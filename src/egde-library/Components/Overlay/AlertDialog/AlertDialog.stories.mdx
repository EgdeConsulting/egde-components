import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { LibPath, DocsPageHeader, DocsPageBodyComponents } from 'egde-library';
import { AlertDialog } from 'egde-components';
import { useState } from 'react';
import { Button } from '@chakra-ui/react';

export const Template = (args) => {
    const [isOpen, setIsOpen] = useState(false);
    const handleClose = () => setIsOpen(false);
    const buttons = [
        {
            label: 'OK',
            onClick: () => {
                setIsOpen(false);
            },
            variant: 'primary',
        },
    ];
    return (
        <div>
            <Button onClick={() => setIsOpen(true)}> Open Alert Dialog </Button>
            <AlertDialog
                {...args}
                onClose={handleClose}
                isOpen={isOpen}
                buttons={buttons}
            />
        </div>
    );
};

export const componentName = 'AlertDialog';

<Meta
    title={LibPath.Overlay + componentName}
    component={AlertDialog}
    args={{
        iconVariant: 'information',
        heading: 'Title',
        text: 'Content',
        isOpen: true,
        cancelRef: React.createRef(),
        onClose: () => {},
        buttons: { label: 'OK', onClick: () => {}, variant: 'primary' },
    }}
/>

<DocsPageHeader
    title={componentName}
    description=" This component is used to create an overlay that displays an alert. Pressing the button opens the AlertDialog."
    addImportantNote={false}
    variant="stable"
/>

<Canvas withToolbar>
    <Story name="Base">{Template.bind({})}</Story>
</Canvas>

<DocsPageBodyComponents addStories={true} />

### Warning Alert

<Canvas withToolbar>
    <Story
        name="Warning Alert"
        args={{
            iconVariant: 'warning',
            heading: 'Something went wrong!',
            text: 'Please try again',
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>
