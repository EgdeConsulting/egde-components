import { Meta, Story, Props, Canvas, Preview } from '@storybook/addon-docs';
import { DocsPageHeader, DocsPageBody } from 'Docs';
import { Modal } from './Modal';
import { ComponentStability } from 'Icons';
import { LibPath } from 'Types';
import { Button } from '@chakra-ui/react';
import { useState } from 'react';

export const Template = (args) => {
    const [isModalOpen, setIsModalOpen] = useState(false);
    const handleClose = () => setIsModalOpen(false);
    return (
        <div>
            <Button onClick={() => setIsModalOpen(true)}>Open Modal</Button>
            <Modal {...args} isModalOpen={isModalOpen} onClose={handleClose} />
        </div>
    );
};

export const componentName = 'Modal';

<Meta
    title={LibPath.Overlay + componentName}
    component={Modal}
    args={{
        isModalOpen: false,
        isCentered: false,
        iconVariant: 'check',
        title: 'Modal Title',
        subtitle: 'Modal Subtitle',
        children: <div>Modal Content</div>,
        buttons: {
            primary: {
                label: 'Primary Button',
                variant: 'primary',
                onClick: () => {},
            },
            secondary: {
                label: 'Close',
                variant: 'secondary',
                onClick: () => {},
            },
            alignment: 'left',
        },
        onClose: () => {},
        hasCloseButton: true,
        errorMessage: '',
        width: '25%',
    }}
/>

<DocsPageHeader
    componentName={componentName}
    componentDescription="This component is used to create a popup-box which can contain interactive content."
    addImportantNote={false}
    variant="stable"
/>

<Canvas withToolbar>
    <Story name="Base">{Template.bind({})}</Story>
</Canvas>

<DocsPageBody addStories={true} />

### Buttons right

<Canvas>
    <Story
        name="Buttons right"
        args={{
            buttons: {
                primary: {
                    label: 'Primary Button',
                    variant: 'primary',
                    onClick: () => {},
                },
                secondary: {
                    label: 'Close',
                    variant: 'secondary',
                    onClick: () => {},
                },
                alignment: 'right',
            },
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

### Error message

<Canvas>
    <Story
        name="Error message"
        args={{
            errorMessage: 'This is an error message',
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

### Centered Modal

<Canvas>
    <Story
        name="Centered Modal"
        args={{
            isCentered: true,
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

### Icon variant: Check

<Canvas>
    <Story
        name="Icon variant: Check"
        args={{
            iconVariant: 'check',
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

### Icon variant: Exclamation

<Canvas>
    <Story
        name="Icon variant: Exclamation"
        args={{
            iconVariant: 'exclamation',
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>
