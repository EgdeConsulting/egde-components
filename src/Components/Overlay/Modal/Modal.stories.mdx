import {
    Meta,
    Story,
    Props,
    Canvas,
    Preview,
} from '@storybook/addon-docs';
import { Modal } from './Modal';
import { ComponentStability } from 'Icons';
import { LibPath } from 'Types';
import { Button } from '@chakra-ui/react';
import { useState } from 'react';

export const Template = (args) => {
    const [isModalOpen, setIsModalOpen] = useState(false);
    const handleClose = () => setIsModalOpen(false);
    return (
        <div>
            <Button onClick={() => setIsModalOpen(true)}>Open Modal</Button>
            <Modal {...args} isModalOpen={isModalOpen} onClose={handleClose} />
        </div>
    );
};

<Meta
    title={LibPath.Overlay + 'Modal'}
    component={Modal}
    args={{
        isModalOpen: false,
        isCentered: false,
        iconVariant: 'check',
        title: 'Modal Title',
        subtitle: 'Modal Subtitle',
        children: <div>Modal Content</div>,
        buttons: {
            primary: {
                label: 'Primary Button',
                variant: 'primary',
                onClick: () => {},
            },
            secondary: {
                label: 'Close',
                variant: 'secondary',
                onClick: () => {},
            },
            alignment: 'left',
        },
        onClose: () => {},
        hasCloseButton: true,
        errorMessage: '',
        width: '25%',
    }}
/>

# Modal

<ComponentStability variant="stable" />

<hr />

This component is used to create a popup-box which can contain interactive content.

<Preview withToolbar>
    <Story name="Base">{Template.bind({})}</Story>
</Preview>

Change some of the props and see how the `Base` component changes.

<Props story="Base" />

# Stories

<hr />

Below are shown different implementations of the component in regards to varying
use cases.

<br />

### Buttons right

<Canvas>
    <Story
        name="Buttons right"
        args={{
            buttons: {
                primary: {
                    label: 'Primary Button',
                    variant: 'primary',
                    onClick: () => {},
                },
                secondary: {
                    label: 'Close',
                    variant: 'secondary',
                    onClick: () => {},
                },
                alignment: 'right',
            },
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

### Error message

<Canvas>
    <Story
        name="Error message"
        args={{
            errorMessage: 'This is an error message',
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

### Centered Modal

<Canvas>
    <Story
        name="Centered Modal"
        args={{
            isCentered: true,
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

### Icon variant: Check

<Canvas>
    <Story
        name="Icon variant: Check"
        args={{
            iconVariant: 'check',
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

### Icon variant: Exclamation

<Canvas>
    <Story
        name="Icon variant: Exclamation"
        args={{
            iconVariant: 'exclamation',
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>
