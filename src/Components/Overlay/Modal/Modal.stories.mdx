import { Meta, Story, Canvas } from '@storybook/addon-docs';
import { DocsPageHeader, DocsPageBody } from 'Docs';
import { LibPath } from 'Types';
import { Modal } from 'Components';
import { useState } from 'react';
import { Button } from '@chakra-ui/react';

export const Template = (args) => {
    const [isModalOpen, setIsModalOpen] = useState(false);
    const handleClose = () => setIsModalOpen(false);
    return (
        <div>
            <Button onClick={() => setIsModalOpen(true)}>Open Modal</Button>
            <Modal {...args} isModalOpen={isModalOpen} onClose={handleClose} />
        </div>
    );
};

export const componentName = 'Modal';

<Meta
    title={LibPath.Overlay + componentName}
    component={Modal}
    args={{
        isModalOpen: false,
        isCentered: false,
        iconVariant: 'check',
        title: 'Title',
        subtitle: 'Subtitle',
        children: <div>Content</div>,
        buttons: {
            primary: {
                label: 'Primary Button',
                variant: 'primary',
                onClick: () => {},
            },
            secondary: {
                label: 'Close',
                variant: 'secondary',
                onClick: () => {},
            },
            alignment: 'left',
        },
        onClose: () => {},
        hasCloseButton: true,
        errorMessage: '',
        width: '25%',
    }}
/>

<DocsPageHeader
    title={componentName}
    description="This component is used to create a popup-box which can contain interactive content."
    addImportantNote={false}
    variant="stable"
/>

<Canvas withToolbar>
    <Story name="Base">{Template.bind({})}</Story>
</Canvas>

<DocsPageBody addStories={true} />

### Button Alignment: Right

<Canvas>
    <Story
        name="Button Alignment: Right"
        args={{
            buttons: {
                primary: {
                    label: 'Primary Button',
                    variant: 'primary',
                    onClick: () => {},
                },
                secondary: {
                    label: 'Close',
                    variant: 'secondary',
                    onClick: () => {},
                },
                alignment: 'right',
                title: 'Newsletter Subscription',
                subtitle: '',
                children: <div>You are now subscribed!</div>,
            },
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

### Error message

<Canvas>
    <Story
        name="Error message"
        args={{
            errorMessage: 'This is an error message',
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

### Modal Alignment: Center

<Canvas>
    <Story
        name="Modal Alignment: Center"
        args={{
            isCentered: true,
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>

### Icon variant: Exclamation

<Canvas>
    <Story
        name="Icon variant: Exclamation"
        args={{
            iconVariant: 'exclamation',
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>
