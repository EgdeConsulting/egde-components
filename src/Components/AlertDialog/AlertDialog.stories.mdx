import {
    Meta,
    Story,
    Props,
    Canvas,
    Preview,
} from '@storybook/addon-docs/blocks';
import { AlertDialog } from './AlertDialog';
import { ComponentStability } from 'Icons';
import { LibPath } from 'Types';
import { useState } from 'react';
import { Button } from '@chakra-ui/react';

export const Template = (args) => {
    const [isOpen, setIsOpen] = useState(false);
    const handleClose = () => setIsOpen(false);
    const buttons = [
        {
            label: 'OK',
            onClick: () => {
                setIsOpen(false);
            },
            variant: 'primary',
        },
    ];
    return (
        <div>
            <Button onClick={() => setIsOpen(true)}> Open Alert Dialog </Button>
            <AlertDialog
                {...args}
                onClose={handleClose}
                isOpen={isOpen}
                buttons={buttons}
            />
        </div>
    );
};

<Meta
    title={LibPath.Overlay + 'AlertDialog'}
    component={AlertDialog}
    args={{
        iconVariant: 'information',
        heading: 'Heading',
        text: 'Alert Dialog Text',
        isOpen: true,
        cancelRef: React.createRef(),
        onClose: () => {},
        buttons: { label: 'OK', onClick: () => {}, variant: 'primary' },
    }}
/>

# Alert Dialog

<ComponentStability variant="stable" />

<hr />

This component is used to display a popup-box which displays important information
whom the user must see.

<Preview withToolbar>
    <Story name="Base">{Template.bind({})}</Story>
</Preview>

Change some of the props and see how the `Base` component changes.

<Props story="Base" />

# Stories

<hr />

Below are shown different implementations of the component in regards to varying
use cases.

<br />

<Canvas withToolbar>
    <Story
        name="Warning Alert"
        args={{
            iconVariant: 'warning',
            heading: 'Something went wrong!',
            text: 'Please try again',
        }}
    >
        {Template.bind({})}
    </Story>
</Canvas>
